{"ast":null,"code":"import React from 'react';\nimport { getCoordinates, drawLine } from './utils';\nconst LineMode = ({\n  isActive,\n  onPixelUpdate,\n  onPreviewUpdate\n}) => {\n  const handlePreview = (startPoint, currentIndex) => {\n    const currentPoint = getCoordinates(currentIndex);\n    if (startPoint) {\n      onPreviewUpdate(prev => {\n        const newPreview = Array(8192).fill(false);\n        drawLine(startPoint, currentPoint).forEach(idx => {\n          newPreview[idx] = true;\n        });\n        return newPreview;\n      });\n    }\n  };\n  const handleCommit = (startPoint, endPoint) => {\n    if (startPoint && endPoint) {\n      onPixelUpdate(prev => {\n        const newPixels = [...prev]; // Create copy of existing pixels\n        const currentPoint = getCoordinates(endPoint);\n        drawLine(startPoint, currentPoint).forEach(idx => {\n          newPixels[idx] = true; // Add new line while preserving existing pixels\n        });\n        return newPixels;\n      });\n    }\n  };\n  return {\n    handlePreview,\n    handleCommit,\n    modeName: 'Line Mode',\n    isActive\n  };\n};\n_c = LineMode;\nexport default LineMode;\nvar _c;\n$RefreshReg$(_c, \"LineMode\");","map":{"version":3,"names":["React","getCoordinates","drawLine","LineMode","isActive","onPixelUpdate","onPreviewUpdate","handlePreview","startPoint","currentIndex","currentPoint","prev","newPreview","Array","fill","forEach","idx","handleCommit","endPoint","newPixels","modeName","_c","$RefreshReg$"],"sources":["C:/Users/wikx3/Documents/VS_code/React/AOD/src/components/pixelGrid/LineMode.jsx"],"sourcesContent":["import React from 'react';\r\nimport { getCoordinates, drawLine } from './utils';\r\n\r\nconst LineMode = ({ isActive, onPixelUpdate, onPreviewUpdate }) => {\r\n  const handlePreview = (startPoint, currentIndex) => {\r\n    const currentPoint = getCoordinates(currentIndex);\r\n    if (startPoint) {\r\n      onPreviewUpdate(prev => {\r\n        const newPreview = Array(8192).fill(false);\r\n        drawLine(startPoint, currentPoint).forEach(idx => {\r\n          newPreview[idx] = true;\r\n        });\r\n        return newPreview;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCommit = (startPoint, endPoint) => {\r\n    if (startPoint && endPoint) {\r\n      onPixelUpdate(prev => {\r\n        const newPixels = [...prev];  // Create copy of existing pixels\r\n        const currentPoint = getCoordinates(endPoint);\r\n        drawLine(startPoint, currentPoint).forEach(idx => {\r\n          newPixels[idx] = true;  // Add new line while preserving existing pixels\r\n        });\r\n        return newPixels;\r\n      });\r\n    }\r\n  };\r\n\r\n  return {\r\n    handlePreview,\r\n    handleCommit,\r\n    modeName: 'Line Mode',\r\n    isActive\r\n  };\r\n};\r\n\r\nexport default LineMode;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,EAAEC,QAAQ,QAAQ,SAAS;AAElD,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,aAAa;EAAEC;AAAgB,CAAC,KAAK;EACjE,MAAMC,aAAa,GAAGA,CAACC,UAAU,EAAEC,YAAY,KAAK;IAClD,MAAMC,YAAY,GAAGT,cAAc,CAACQ,YAAY,CAAC;IACjD,IAAID,UAAU,EAAE;MACdF,eAAe,CAACK,IAAI,IAAI;QACtB,MAAMC,UAAU,GAAGC,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;QAC1CZ,QAAQ,CAACM,UAAU,EAAEE,YAAY,CAAC,CAACK,OAAO,CAACC,GAAG,IAAI;UAChDJ,UAAU,CAACI,GAAG,CAAC,GAAG,IAAI;QACxB,CAAC,CAAC;QACF,OAAOJ,UAAU;MACnB,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMK,YAAY,GAAGA,CAACT,UAAU,EAAEU,QAAQ,KAAK;IAC7C,IAAIV,UAAU,IAAIU,QAAQ,EAAE;MAC1Bb,aAAa,CAACM,IAAI,IAAI;QACpB,MAAMQ,SAAS,GAAG,CAAC,GAAGR,IAAI,CAAC,CAAC,CAAE;QAC9B,MAAMD,YAAY,GAAGT,cAAc,CAACiB,QAAQ,CAAC;QAC7ChB,QAAQ,CAACM,UAAU,EAAEE,YAAY,CAAC,CAACK,OAAO,CAACC,GAAG,IAAI;UAChDG,SAAS,CAACH,GAAG,CAAC,GAAG,IAAI,CAAC,CAAE;QAC1B,CAAC,CAAC;QACF,OAAOG,SAAS;MAClB,CAAC,CAAC;IACJ;EACF,CAAC;EAED,OAAO;IACLZ,aAAa;IACbU,YAAY;IACZG,QAAQ,EAAE,WAAW;IACrBhB;EACF,CAAC;AACH,CAAC;AAACiB,EAAA,GAjCIlB,QAAQ;AAmCd,eAAeA,QAAQ;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}