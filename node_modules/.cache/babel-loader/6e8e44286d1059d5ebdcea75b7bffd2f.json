{"ast":null,"code":"import React from 'react';\nimport { getCoordinates, drawLine } from './utils';\nconst FreeformMode = ({\n  isActive,\n  onPixelUpdate,\n  brushSize\n}) => {\n  const handleDraw = (lastPoint, currentIndex) => {\n    const currentPoint = getCoordinates(currentIndex);\n    if (lastPoint) {\n      onPixelUpdate(prev => {\n        const newPixels = [...prev];\n        // Draw main line\n        drawLine(lastPoint, currentPoint).forEach(idx => {\n          newPixels[idx] = true;\n\n          // Add surrounding pixels based on brush size\n          for (let dx = -brushSize + 1; dx < brushSize; dx++) {\n            for (let dy = -brushSize + 1; dy < brushSize; dy++) {\n              const x = idx % 128 + dx;\n              const y = Math.floor(idx / 128) + dy;\n              if (x >= 0 && x < 128 && y >= 0 && y < 64) {\n                const newIdx = y * 128 + x;\n                newPixels[newIdx] = true;\n              }\n            }\n          }\n        });\n        return newPixels;\n      });\n    }\n    return currentPoint;\n  };\n  return {\n    handleDraw,\n    modeName: 'Freeform Mode',\n    isActive\n  };\n};\n_c = FreeformMode;\nexport default FreeformMode;\nvar _c;\n$RefreshReg$(_c, \"FreeformMode\");","map":{"version":3,"names":["React","getCoordinates","drawLine","FreeformMode","isActive","onPixelUpdate","brushSize","handleDraw","lastPoint","currentIndex","currentPoint","prev","newPixels","forEach","idx","dx","dy","x","y","Math","floor","newIdx","modeName","_c","$RefreshReg$"],"sources":["C:/Users/wikx3/Documents/VS_code/React/AOD/src/components/pixelGrid/FreeFormMode.jsx"],"sourcesContent":["import React from 'react';\r\nimport { getCoordinates, drawLine } from './utils';\r\n\r\nconst FreeformMode = ({ isActive, onPixelUpdate, brushSize }) => {\r\n  const handleDraw = (lastPoint, currentIndex) => {\r\n    const currentPoint = getCoordinates(currentIndex);\r\n    if (lastPoint) {\r\n      onPixelUpdate(prev => {\r\n        const newPixels = [...prev];\r\n        // Draw main line\r\n        drawLine(lastPoint, currentPoint).forEach(idx => {\r\n          newPixels[idx] = true;\r\n          \r\n          // Add surrounding pixels based on brush size\r\n          for (let dx = -brushSize + 1; dx < brushSize; dx++) {\r\n            for (let dy = -brushSize + 1; dy < brushSize; dy++) {\r\n              const x = idx % 128 + dx;\r\n              const y = Math.floor(idx / 128) + dy;\r\n              if (x >= 0 && x < 128 && y >= 0 && y < 64) {\r\n                const newIdx = y * 128 + x;\r\n                newPixels[newIdx] = true;\r\n              }\r\n            }\r\n          }\r\n        });\r\n        return newPixels;\r\n      });\r\n    }\r\n    return currentPoint;\r\n  };\r\n\r\n  return {\r\n    handleDraw,\r\n    modeName: 'Freeform Mode',\r\n    isActive\r\n  };\r\n};\r\n\r\nexport default FreeformMode;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,EAAEC,QAAQ,QAAQ,SAAS;AAElD,MAAMC,YAAY,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,aAAa;EAAEC;AAAU,CAAC,KAAK;EAC/D,MAAMC,UAAU,GAAGA,CAACC,SAAS,EAAEC,YAAY,KAAK;IAC9C,MAAMC,YAAY,GAAGT,cAAc,CAACQ,YAAY,CAAC;IACjD,IAAID,SAAS,EAAE;MACbH,aAAa,CAACM,IAAI,IAAI;QACpB,MAAMC,SAAS,GAAG,CAAC,GAAGD,IAAI,CAAC;QAC3B;QACAT,QAAQ,CAACM,SAAS,EAAEE,YAAY,CAAC,CAACG,OAAO,CAACC,GAAG,IAAI;UAC/CF,SAAS,CAACE,GAAG,CAAC,GAAG,IAAI;;UAErB;UACA,KAAK,IAAIC,EAAE,GAAG,CAACT,SAAS,GAAG,CAAC,EAAES,EAAE,GAAGT,SAAS,EAAES,EAAE,EAAE,EAAE;YAClD,KAAK,IAAIC,EAAE,GAAG,CAACV,SAAS,GAAG,CAAC,EAAEU,EAAE,GAAGV,SAAS,EAAEU,EAAE,EAAE,EAAE;cAClD,MAAMC,CAAC,GAAGH,GAAG,GAAG,GAAG,GAAGC,EAAE;cACxB,MAAMG,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACN,GAAG,GAAG,GAAG,CAAC,GAAGE,EAAE;cACpC,IAAIC,CAAC,IAAI,CAAC,IAAIA,CAAC,GAAG,GAAG,IAAIC,CAAC,IAAI,CAAC,IAAIA,CAAC,GAAG,EAAE,EAAE;gBACzC,MAAMG,MAAM,GAAGH,CAAC,GAAG,GAAG,GAAGD,CAAC;gBAC1BL,SAAS,CAACS,MAAM,CAAC,GAAG,IAAI;cAC1B;YACF;UACF;QACF,CAAC,CAAC;QACF,OAAOT,SAAS;MAClB,CAAC,CAAC;IACJ;IACA,OAAOF,YAAY;EACrB,CAAC;EAED,OAAO;IACLH,UAAU;IACVe,QAAQ,EAAE,eAAe;IACzBlB;EACF,CAAC;AACH,CAAC;AAACmB,EAAA,GAjCIpB,YAAY;AAmClB,eAAeA,YAAY;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}