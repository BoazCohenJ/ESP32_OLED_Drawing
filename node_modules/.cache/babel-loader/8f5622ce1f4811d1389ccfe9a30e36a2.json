{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wikx3\\\\Documents\\\\VS_code\\\\React\\\\AOD\\\\src\\\\components\\\\BMPHandler.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BMPHandler = ({\n  pixelData,\n  onPixelUpdate\n}) => {\n  _s();\n  const fileInputRef = useRef(null);\n  const uploadBMP = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      const buffer = e.target.result;\n      parseBMP(buffer);\n    };\n    reader.readAsArrayBuffer(file);\n  };\n  const parseBMP = buffer => {\n    const view = new DataView(buffer);\n\n    // Check BMP signature (42 4D = \"BM\")\n    if (view.getUint16(0, true) !== 0x4D42) {\n      alert(\"Not a valid BMP file\");\n      return;\n    }\n\n    // Get BMP dimensions\n    const width = view.getInt32(18, true);\n    const height = view.getInt32(22, true);\n    const bitsPerPixel = view.getUint16(28, true);\n\n    // Simple validation\n    if (width !== 128 || height !== 64 || bitsPerPixel !== 1 && bitsPerPixel !== 24) {\n      alert(`Unsupported BMP format. Must be 128x64 pixels, found ${width}x${height}.`);\n      return;\n    }\n\n    // Calculate pixel data offset\n    const offset = view.getUint32(10, true);\n\n    // Create new pixel array\n    const newPixels = Array(8192).fill(false);\n\n    // Parse BMP data based on bits per pixel\n    if (bitsPerPixel === 1) {\n      // Monochrome BMP\n      for (let y = 0; y < 64; y++) {\n        const row = 63 - y; // BMP stores bottom-up\n        for (let x = 0; x < 128; x++) {\n          const byteIndex = offset + Math.floor((x + row * width) / 8);\n          const bitIndex = 7 - x % 8;\n          const byte = view.getUint8(byteIndex);\n          const isWhite = (byte >> bitIndex & 0x01) === 1;\n          newPixels[y * 128 + x] = isWhite;\n        }\n      }\n    } else if (bitsPerPixel === 24) {\n      // 24-bit color BMP\n      const rowSize = Math.floor(width * 3 + 3 & ~3); // Row size is padded to multiple of 4 bytes\n\n      for (let y = 0; y < 64; y++) {\n        const row = 63 - y; // BMP stores bottom-up\n        for (let x = 0; x < 128; x++) {\n          const pixelOffset = offset + row * rowSize + x * 3;\n          const blue = view.getUint8(pixelOffset);\n          const green = view.getUint8(pixelOffset + 1);\n          const red = view.getUint8(pixelOffset + 2);\n\n          // Convert to black/white based on brightness\n          const brightness = (red + green + blue) / 3;\n          const isWhite = brightness > 128;\n          newPixels[y * 128 + x] = isWhite;\n        }\n      }\n    }\n\n    // Update the pixel grid with our new data\n    onPixelUpdate(() => newPixels);\n  };\n  const downloadBMP = () => {\n    // Create a 1-bit monochrome BMP\n    const fileSize = 62 + 128 * 64 / 8; // Header + bitmap data\n    const buffer = new ArrayBuffer(fileSize);\n    const view = new DataView(buffer);\n\n    // BMP Header\n    view.setUint16(0, 0x4D42, true); // BM signature\n    view.setUint32(2, fileSize, true); // File size\n    view.setUint32(10, 62, true); // Pixel data offset\n\n    // DIB Header\n    view.setUint32(14, 40, true); // Header size\n    view.setInt32(18, 128, true); // Width\n    view.setInt32(22, 64, true); // Height\n    view.setUint16(26, 1, true); // Color planes\n    view.setUint16(28, 1, true); // Bits per pixel (1 for monochrome)\n    view.setUint32(30, 0, true); // No compression\n    view.setUint32(34, 128 * 64 / 8, true); // Image size\n    view.setInt32(38, 2835, true); // Horizontal resolution (72 DPI)\n    view.setInt32(42, 2835, true); // Vertical resolution (72 DPI)\n    view.setUint32(46, 2, true); // 2 colors in palette\n    view.setUint32(50, 0, true); // All colors important\n\n    // Color palette (2 entries: black and white)\n    view.setUint32(54, 0x00000000, true); // Black\n    view.setUint32(58, 0x00FFFFFF, true); // White\n\n    // Write pixel data\n    const dataOffset = 62;\n    for (let y = 0; y < 64; y++) {\n      const invY = 63 - y; // BMP is stored bottom-up\n      for (let x = 0; x < 128; x += 8) {\n        let byte = 0;\n        for (let bit = 0; bit < 8; bit++) {\n          const isWhite = pixelData[y * 128 + (x + bit)];\n          // In 1-bit BMPs, 0 represents the first color in palette (black)\n          // and 1 represents the second color (white)\n          if (isWhite) {\n            byte |= 1 << 7 - bit;\n          }\n        }\n        view.setUint8(dataOffset + Math.floor(x / 8) + invY * 16, byte);\n      }\n    }\n\n    // Create download link\n    const blob = new Blob([buffer], {\n      type: 'image/bmp'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'pixel_art.bmp';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bmp-handler\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => fileInputRef.current.click(),\n      className: \"file-button\",\n      children: \"Import BMP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \".bmp\",\n      onChange: uploadBMP,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: downloadBMP,\n      className: \"file-button\",\n      children: \"Export BMP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n_s(BMPHandler, \"YQqvMxdmg33cmOXmQcOjJm+FLVI=\");\n_c = BMPHandler;\nexport default BMPHandler;\nvar _c;\n$RefreshReg$(_c, \"BMPHandler\");","map":{"version":3,"names":["React","useRef","jsxDEV","_jsxDEV","BMPHandler","pixelData","onPixelUpdate","_s","fileInputRef","uploadBMP","event","file","target","files","reader","FileReader","onload","e","buffer","result","parseBMP","readAsArrayBuffer","view","DataView","getUint16","alert","width","getInt32","height","bitsPerPixel","offset","getUint32","newPixels","Array","fill","y","row","x","byteIndex","Math","floor","bitIndex","byte","getUint8","isWhite","rowSize","pixelOffset","blue","green","red","brightness","downloadBMP","fileSize","ArrayBuffer","setUint16","setUint32","setInt32","dataOffset","invY","bit","setUint8","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","className","children","onClick","current","fileName","_jsxFileName","lineNumber","columnNumber","ref","accept","onChange","style","display","_c","$RefreshReg$"],"sources":["C:/Users/wikx3/Documents/VS_code/React/AOD/src/components/BMPHandler.jsx"],"sourcesContent":["import React, { useRef } from 'react';\r\n\r\nconst BMPHandler = ({ pixelData, onPixelUpdate }) => {\r\n  const fileInputRef = useRef(null);\r\n  \r\n  const uploadBMP = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const buffer = e.target.result;\r\n      parseBMP(buffer);\r\n    };\r\n    \r\n    reader.readAsArrayBuffer(file);\r\n  };\r\n  \r\n  const parseBMP = (buffer) => {\r\n    const view = new DataView(buffer);\r\n    \r\n    // Check BMP signature (42 4D = \"BM\")\r\n    if (view.getUint16(0, true) !== 0x4D42) {\r\n      alert(\"Not a valid BMP file\");\r\n      return;\r\n    }\r\n    \r\n    // Get BMP dimensions\r\n    const width = view.getInt32(18, true);\r\n    const height = view.getInt32(22, true);\r\n    const bitsPerPixel = view.getUint16(28, true);\r\n    \r\n    // Simple validation\r\n    if (width !== 128 || height !== 64 || (bitsPerPixel !== 1 && bitsPerPixel !== 24)) {\r\n      alert(`Unsupported BMP format. Must be 128x64 pixels, found ${width}x${height}.`);\r\n      return;\r\n    }\r\n    \r\n    // Calculate pixel data offset\r\n    const offset = view.getUint32(10, true);\r\n    \r\n    // Create new pixel array\r\n    const newPixels = Array(8192).fill(false);\r\n    \r\n    // Parse BMP data based on bits per pixel\r\n    if (bitsPerPixel === 1) {\r\n      // Monochrome BMP\r\n      for (let y = 0; y < 64; y++) {\r\n        const row = 63 - y; // BMP stores bottom-up\r\n        for (let x = 0; x < 128; x++) {\r\n          const byteIndex = offset + Math.floor((x + row * width) / 8);\r\n          const bitIndex = 7 - (x % 8);\r\n          const byte = view.getUint8(byteIndex);\r\n          \r\n          const isWhite = ((byte >> bitIndex) & 0x01) === 1;\r\n          \r\n          newPixels[y * 128 + x] = isWhite;\r\n        }\r\n      }\r\n    } else if (bitsPerPixel === 24) {\r\n      // 24-bit color BMP\r\n      const rowSize = Math.floor((width * 3 + 3) & ~3); // Row size is padded to multiple of 4 bytes\r\n      \r\n      for (let y = 0; y < 64; y++) {\r\n        const row = 63 - y; // BMP stores bottom-up\r\n        for (let x = 0; x < 128; x++) {\r\n          const pixelOffset = offset + row * rowSize + x * 3;\r\n          const blue = view.getUint8(pixelOffset);\r\n          const green = view.getUint8(pixelOffset + 1);\r\n          const red = view.getUint8(pixelOffset + 2);\r\n          \r\n          // Convert to black/white based on brightness\r\n          const brightness = (red + green + blue) / 3;\r\n          const isWhite = brightness > 128;\r\n          newPixels[y * 128 + x] = isWhite;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Update the pixel grid with our new data\r\n    onPixelUpdate(() => newPixels);\r\n  };\r\n  \r\n  const downloadBMP = () => {\r\n    // Create a 1-bit monochrome BMP\r\n    const fileSize = 62 + 128 * 64 / 8; // Header + bitmap data\r\n    const buffer = new ArrayBuffer(fileSize);\r\n    const view = new DataView(buffer);\r\n    \r\n    // BMP Header\r\n    view.setUint16(0, 0x4D42, true); // BM signature\r\n    view.setUint32(2, fileSize, true); // File size\r\n    view.setUint32(10, 62, true); // Pixel data offset\r\n    \r\n    // DIB Header\r\n    view.setUint32(14, 40, true); // Header size\r\n    view.setInt32(18, 128, true); // Width\r\n    view.setInt32(22, 64, true); // Height\r\n    view.setUint16(26, 1, true); // Color planes\r\n    view.setUint16(28, 1, true); // Bits per pixel (1 for monochrome)\r\n    view.setUint32(30, 0, true); // No compression\r\n    view.setUint32(34, 128 * 64 / 8, true); // Image size\r\n    view.setInt32(38, 2835, true); // Horizontal resolution (72 DPI)\r\n    view.setInt32(42, 2835, true); // Vertical resolution (72 DPI)\r\n    view.setUint32(46, 2, true); // 2 colors in palette\r\n    view.setUint32(50, 0, true); // All colors important\r\n    \r\n    // Color palette (2 entries: black and white)\r\n    view.setUint32(54, 0x00000000, true); // Black\r\n    view.setUint32(58, 0x00FFFFFF, true); // White\r\n    \r\n    // Write pixel data\r\n    const dataOffset = 62;\r\n    for (let y = 0; y < 64; y++) {\r\n      const invY = 63 - y; // BMP is stored bottom-up\r\n      for (let x = 0; x < 128; x += 8) {\r\n        let byte = 0;\r\n        for (let bit = 0; bit < 8; bit++) {\r\n          const isWhite = pixelData[y * 128 + (x + bit)];\r\n          // In 1-bit BMPs, 0 represents the first color in palette (black)\r\n          // and 1 represents the second color (white)\r\n          if (isWhite) {\r\n            byte |= (1 << (7 - bit));\r\n          }\r\n        }\r\n        view.setUint8(dataOffset + Math.floor(x / 8) + invY * 16, byte);\r\n      }\r\n    }\r\n    \r\n    // Create download link\r\n    const blob = new Blob([buffer], { type: 'image/bmp' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'pixel_art.bmp';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n  \r\n  return (\r\n    <div className=\"bmp-handler\">\r\n      <button \r\n        onClick={() => fileInputRef.current.click()}\r\n        className=\"file-button\"\r\n      >\r\n        Import BMP\r\n      </button>\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\".bmp\"\r\n        onChange={uploadBMP}\r\n        style={{ display: 'none' }}\r\n      />\r\n      <button \r\n        onClick={downloadBMP}\r\n        className=\"file-button\"\r\n      >\r\n        Export BMP\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BMPHandler;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}