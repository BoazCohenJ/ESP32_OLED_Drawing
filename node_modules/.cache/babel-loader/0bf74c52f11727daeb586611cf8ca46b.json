{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nconst MAX_HISTORY = 100;\nexport const useUndoRedo = initialState => {\n  _s();\n  const [history, setHistory] = useState([initialState]);\n  const [historyIndex, setHistoryIndex] = useState(0);\n  const addToHistory = newState => {\n    const newHistory = history.slice(0, historyIndex + 1);\n    newHistory.push([...newState]);\n\n    // Keep only last MAX_HISTORY states\n    if (newHistory.length > MAX_HISTORY) {\n      newHistory.shift();\n    }\n    setHistory(newHistory);\n    setHistoryIndex(newHistory.length - 1);\n  };\n  const undo = () => {\n    if (historyIndex > 0) {\n      setHistoryIndex(historyIndex - 1);\n      return [...history[historyIndex - 1]];\n    }\n    return null;\n  };\n  const redo = () => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex(historyIndex + 1);\n      return [...history[historyIndex + 1]]; // Return the next state\n    }\n    return null;\n  };\n  const canUndo = historyIndex > 0;\n  const canRedo = historyIndex < history.length - 1;\n  return {\n    addToHistory,\n    undo,\n    redo,\n    canUndo,\n    canRedo\n  };\n};\n_s(useUndoRedo, \"vnE+bF/yl1PvcrEyPRc733zQapU=\");","map":{"version":3,"names":["useState","MAX_HISTORY","useUndoRedo","initialState","_s","history","setHistory","historyIndex","setHistoryIndex","addToHistory","newState","newHistory","slice","push","length","shift","undo","redo","canUndo","canRedo"],"sources":["C:/Users/wikx3/Documents/VS_code/React/AOD/src/components/pixelGrid/useUndoRedo.jsx"],"sourcesContent":["import { useState } from 'react';\r\n\r\nconst MAX_HISTORY = 100;\r\n\r\nexport const useUndoRedo = (initialState) => {\r\n  const [history, setHistory] = useState([initialState]);\r\n  const [historyIndex, setHistoryIndex] = useState(0);\r\n\r\n  const addToHistory = (newState) => {\r\n    const newHistory = history.slice(0, historyIndex + 1);\r\n    newHistory.push([...newState]);\r\n    \r\n    // Keep only last MAX_HISTORY states\r\n    if (newHistory.length > MAX_HISTORY) {\r\n      newHistory.shift();\r\n    }\r\n    \r\n    setHistory(newHistory);\r\n    setHistoryIndex(newHistory.length - 1);\r\n  };\r\n\r\n  const undo = () => {\r\n    if (historyIndex > 0) {\r\n      setHistoryIndex(historyIndex - 1);\r\n      return [...history[historyIndex - 1]];\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const redo = () => {\r\n    if (historyIndex < history.length - 1) {\r\n      setHistoryIndex(historyIndex + 1);\r\n      return [...history[historyIndex + 1]];  // Return the next state\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const canUndo = historyIndex > 0;\r\n  const canRedo = historyIndex < history.length - 1;\r\n\r\n  return {\r\n    addToHistory,\r\n    undo,\r\n    redo,\r\n    canUndo,\r\n    canRedo\r\n  };\r\n};"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,WAAW,GAAG,GAAG;AAEvB,OAAO,MAAMC,WAAW,GAAIC,YAAY,IAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,CAACG,YAAY,CAAC,CAAC;EACtD,MAAM,CAACI,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EAEnD,MAAMS,YAAY,GAAIC,QAAQ,IAAK;IACjC,MAAMC,UAAU,GAAGN,OAAO,CAACO,KAAK,CAAC,CAAC,EAAEL,YAAY,GAAG,CAAC,CAAC;IACrDI,UAAU,CAACE,IAAI,CAAC,CAAC,GAAGH,QAAQ,CAAC,CAAC;;IAE9B;IACA,IAAIC,UAAU,CAACG,MAAM,GAAGb,WAAW,EAAE;MACnCU,UAAU,CAACI,KAAK,CAAC,CAAC;IACpB;IAEAT,UAAU,CAACK,UAAU,CAAC;IACtBH,eAAe,CAACG,UAAU,CAACG,MAAM,GAAG,CAAC,CAAC;EACxC,CAAC;EAED,MAAME,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAIT,YAAY,GAAG,CAAC,EAAE;MACpBC,eAAe,CAACD,YAAY,GAAG,CAAC,CAAC;MACjC,OAAO,CAAC,GAAGF,OAAO,CAACE,YAAY,GAAG,CAAC,CAAC,CAAC;IACvC;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAMU,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAIV,YAAY,GAAGF,OAAO,CAACS,MAAM,GAAG,CAAC,EAAE;MACrCN,eAAe,CAACD,YAAY,GAAG,CAAC,CAAC;MACjC,OAAO,CAAC,GAAGF,OAAO,CAACE,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE;IAC1C;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAMW,OAAO,GAAGX,YAAY,GAAG,CAAC;EAChC,MAAMY,OAAO,GAAGZ,YAAY,GAAGF,OAAO,CAACS,MAAM,GAAG,CAAC;EAEjD,OAAO;IACLL,YAAY;IACZO,IAAI;IACJC,IAAI;IACJC,OAAO;IACPC;EACF,CAAC;AACH,CAAC;AAACf,EAAA,CA3CWF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}