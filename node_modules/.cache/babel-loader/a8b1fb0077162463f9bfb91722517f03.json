{"ast":null,"code":"import React from 'react';\nimport { getCoordinates, drawLine } from './utils';\nconst LineMode = ({\n  isActive,\n  onPixelUpdate,\n  onPreviewUpdate,\n  drawColor = true\n}) => {\n  const updateLine = (startPoint, endPoint) => {\n    if (!startPoint || !endPoint) return;\n    const linePoints = drawLine(startPoint, endPoint);\n    const newPreview = Array(8192).fill(false);\n    linePoints.forEach(idx => {\n      if (drawColor) {\n        newPreview[idx] = true;\n      } else {\n        newPreview[idx] = 'black-preview';\n      }\n    });\n    return newPreview;\n  };\n  const handlePreview = (startPoint, currentIndex) => {\n    if (!startPoint || typeof currentIndex !== 'number') return;\n    const currentPoint = getCoordinates(currentIndex);\n    const previewState = updateLine(startPoint, currentPoint);\n    // Fix: Check that onPreviewUpdate exists\n    if (onPreviewUpdate) {\n      onPreviewUpdate(() => previewState);\n    }\n  };\n  const handleCommit = (startPoint, endIndex) => {\n    if (!startPoint || typeof endIndex !== 'number') return;\n    const endPoint = getCoordinates(endIndex);\n    const linePoints = drawLine(startPoint, endPoint);\n    return linePoints;\n  };\n  return {\n    handlePreview,\n    handleCommit,\n    modeName: 'Line Mode',\n    isActive\n  };\n};\n_c = LineMode;\nexport default LineMode;\nvar _c;\n$RefreshReg$(_c, \"LineMode\");","map":{"version":3,"names":["React","getCoordinates","drawLine","LineMode","isActive","onPixelUpdate","onPreviewUpdate","drawColor","updateLine","startPoint","endPoint","linePoints","newPreview","Array","fill","forEach","idx","handlePreview","currentIndex","currentPoint","previewState","handleCommit","endIndex","modeName","_c","$RefreshReg$"],"sources":["C:/Users/wikx3/Documents/VS_code/React/AOD/src/components/pixelGrid/LineMode.jsx"],"sourcesContent":["import React from 'react';\r\nimport { getCoordinates, drawLine } from './utils';\r\n\r\nconst LineMode = ({ isActive, onPixelUpdate, onPreviewUpdate, drawColor = true }) => {\r\n  const updateLine = (startPoint, endPoint) => {\r\n    if (!startPoint || !endPoint) return;\r\n    const linePoints = drawLine(startPoint, endPoint);\r\n    const newPreview = Array(8192).fill(false);\r\n    linePoints.forEach(idx => {\r\n      if (drawColor) {\r\n        newPreview[idx] = true;\r\n      } else {\r\n        newPreview[idx] = 'black-preview';\r\n      }\r\n    });\r\n    return newPreview;\r\n  };\r\n\r\n  const handlePreview = (startPoint, currentIndex) => {\r\n    if (!startPoint || typeof currentIndex !== 'number') return;\r\n    const currentPoint = getCoordinates(currentIndex);\r\n    const previewState = updateLine(startPoint, currentPoint);\r\n    // Fix: Check that onPreviewUpdate exists\r\n    if (onPreviewUpdate) {\r\n      onPreviewUpdate(() => previewState);\r\n    }\r\n  };\r\n\r\n  const handleCommit = (startPoint, endIndex) => {\r\n    if (!startPoint || typeof endIndex !== 'number') return;\r\n    const endPoint = getCoordinates(endIndex);\r\n    const linePoints = drawLine(startPoint, endPoint);\r\n    return linePoints;\r\n  };\r\n\r\n  return {\r\n    handlePreview,\r\n    handleCommit,\r\n    modeName: 'Line Mode',\r\n    isActive\r\n  };\r\n};\r\n\r\nexport default LineMode;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,EAAEC,QAAQ,QAAQ,SAAS;AAElD,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,aAAa;EAAEC,eAAe;EAAEC,SAAS,GAAG;AAAK,CAAC,KAAK;EACnF,MAAMC,UAAU,GAAGA,CAACC,UAAU,EAAEC,QAAQ,KAAK;IAC3C,IAAI,CAACD,UAAU,IAAI,CAACC,QAAQ,EAAE;IAC9B,MAAMC,UAAU,GAAGT,QAAQ,CAACO,UAAU,EAAEC,QAAQ,CAAC;IACjD,MAAME,UAAU,GAAGC,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;IAC1CH,UAAU,CAACI,OAAO,CAACC,GAAG,IAAI;MACxB,IAAIT,SAAS,EAAE;QACbK,UAAU,CAACI,GAAG,CAAC,GAAG,IAAI;MACxB,CAAC,MAAM;QACLJ,UAAU,CAACI,GAAG,CAAC,GAAG,eAAe;MACnC;IACF,CAAC,CAAC;IACF,OAAOJ,UAAU;EACnB,CAAC;EAED,MAAMK,aAAa,GAAGA,CAACR,UAAU,EAAES,YAAY,KAAK;IAClD,IAAI,CAACT,UAAU,IAAI,OAAOS,YAAY,KAAK,QAAQ,EAAE;IACrD,MAAMC,YAAY,GAAGlB,cAAc,CAACiB,YAAY,CAAC;IACjD,MAAME,YAAY,GAAGZ,UAAU,CAACC,UAAU,EAAEU,YAAY,CAAC;IACzD;IACA,IAAIb,eAAe,EAAE;MACnBA,eAAe,CAAC,MAAMc,YAAY,CAAC;IACrC;EACF,CAAC;EAED,MAAMC,YAAY,GAAGA,CAACZ,UAAU,EAAEa,QAAQ,KAAK;IAC7C,IAAI,CAACb,UAAU,IAAI,OAAOa,QAAQ,KAAK,QAAQ,EAAE;IACjD,MAAMZ,QAAQ,GAAGT,cAAc,CAACqB,QAAQ,CAAC;IACzC,MAAMX,UAAU,GAAGT,QAAQ,CAACO,UAAU,EAAEC,QAAQ,CAAC;IACjD,OAAOC,UAAU;EACnB,CAAC;EAED,OAAO;IACLM,aAAa;IACbI,YAAY;IACZE,QAAQ,EAAE,WAAW;IACrBnB;EACF,CAAC;AACH,CAAC;AAACoB,EAAA,GAtCIrB,QAAQ;AAwCd,eAAeA,QAAQ;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}