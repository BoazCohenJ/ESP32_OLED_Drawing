{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wikx3\\\\Documents\\\\VS_code\\\\React\\\\AOD\\\\src\\\\components\\\\pixelGrid\\\\LineMode.jsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drawLine = (startX, startY, endX, endY, setPixel) => {\n  // Bresenham's line algorithm\n  const dx = Math.abs(endX - startX);\n  const dy = Math.abs(endY - startY);\n  const sx = startX < endX ? 1 : -1;\n  const sy = startY < endY ? 1 : -1;\n  let err = dx - dy;\n  let currentX = startX;\n  let currentY = startY;\n  while (true) {\n    setPixel(currentX, currentY, true); // Set pixel to white\n\n    if (currentX === endX && currentY === endY) {\n      break;\n    }\n    const e2 = 2 * err;\n    if (e2 > -dy) {\n      err -= dy;\n      currentX += sx;\n    }\n    if (e2 < dx) {\n      err += dx;\n      currentY += sy;\n    }\n  }\n};\n\n// Usage in component:\nconst LineMode = ({\n  gridState,\n  setGridState\n}) => {\n  _s();\n  const [startPoint, setStartPoint] = useState(null);\n  const handleMouseDown = (x, y) => {\n    setStartPoint({\n      x,\n      y\n    });\n  };\n  const handleMouseUp = (x, y) => {\n    if (startPoint) {\n      const setPixel = (px, py, value) => {\n        setGridState(prev => {\n          const newGrid = [...prev];\n          if (px >= 0 && px < 128 && py >= 0 && py < 64) {\n            newGrid[py][px] = value;\n          }\n          return newGrid;\n        });\n      };\n      drawLine(startPoint.x, startPoint.y, x, y, setPixel);\n      setStartPoint(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"LineMode Component\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(LineMode, \"xWsOFXgd2NyaPlQJ04Emt6oywyY=\");\n_c = LineMode;\nvar _c;\n$RefreshReg$(_c, \"LineMode\");","map":{"version":3,"names":["drawLine","startX","startY","endX","endY","setPixel","dx","Math","abs","dy","sx","sy","err","currentX","currentY","e2","LineMode","gridState","setGridState","_s","startPoint","setStartPoint","useState","handleMouseDown","x","y","handleMouseUp","px","py","value","prev","newGrid","_jsxDEV","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/wikx3/Documents/VS_code/React/AOD/src/components/pixelGrid/LineMode.jsx"],"sourcesContent":["const drawLine = (startX, startY, endX, endY, setPixel) => {\r\n  // Bresenham's line algorithm\r\n  const dx = Math.abs(endX - startX);\r\n  const dy = Math.abs(endY - startY);\r\n  const sx = startX < endX ? 1 : -1;\r\n  const sy = startY < endY ? 1 : -1;\r\n  let err = dx - dy;\r\n\r\n  let currentX = startX;\r\n  let currentY = startY;\r\n\r\n  while (true) {\r\n      setPixel(currentX, currentY, true); // Set pixel to white\r\n\r\n      if (currentX === endX && currentY === endY) {\r\n          break;\r\n      }\r\n\r\n      const e2 = 2 * err;\r\n      if (e2 > -dy) {\r\n          err -= dy;\r\n          currentX += sx;\r\n      }\r\n      if (e2 < dx) {\r\n          err += dx;\r\n          currentY += sy;\r\n      }\r\n  }\r\n};\r\n\r\n// Usage in component:\r\nconst LineMode = ({ gridState, setGridState }) => {\r\n  const [startPoint, setStartPoint] = useState(null);\r\n\r\n  const handleMouseDown = (x, y) => {\r\n      setStartPoint({ x, y });\r\n  };\r\n\r\n  const handleMouseUp = (x, y) => {\r\n      if (startPoint) {\r\n          const setPixel = (px, py, value) => {\r\n              setGridState(prev => {\r\n                  const newGrid = [...prev];\r\n                  if (px >= 0 && px < 128 && py >= 0 && py < 64) {\r\n                      newGrid[py][px] = value;\r\n                  }\r\n                  return newGrid;\r\n              });\r\n          };\r\n\r\n          drawLine(startPoint.x, startPoint.y, x, y, setPixel);\r\n          setStartPoint(null);\r\n      }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Add your JSX structure here */}\r\n      <p>LineMode Component</p>\r\n    </div>\r\n  );\r\n};"],"mappings":";;;AAAA,MAAMA,QAAQ,GAAGA,CAACC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,IAAI,EAAEC,QAAQ,KAAK;EACzD;EACA,MAAMC,EAAE,GAAGC,IAAI,CAACC,GAAG,CAACL,IAAI,GAAGF,MAAM,CAAC;EAClC,MAAMQ,EAAE,GAAGF,IAAI,CAACC,GAAG,CAACJ,IAAI,GAAGF,MAAM,CAAC;EAClC,MAAMQ,EAAE,GAAGT,MAAM,GAAGE,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;EACjC,MAAMQ,EAAE,GAAGT,MAAM,GAAGE,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;EACjC,IAAIQ,GAAG,GAAGN,EAAE,GAAGG,EAAE;EAEjB,IAAII,QAAQ,GAAGZ,MAAM;EACrB,IAAIa,QAAQ,GAAGZ,MAAM;EAErB,OAAO,IAAI,EAAE;IACTG,QAAQ,CAACQ,QAAQ,EAAEC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;;IAEpC,IAAID,QAAQ,KAAKV,IAAI,IAAIW,QAAQ,KAAKV,IAAI,EAAE;MACxC;IACJ;IAEA,MAAMW,EAAE,GAAG,CAAC,GAAGH,GAAG;IAClB,IAAIG,EAAE,GAAG,CAACN,EAAE,EAAE;MACVG,GAAG,IAAIH,EAAE;MACTI,QAAQ,IAAIH,EAAE;IAClB;IACA,IAAIK,EAAE,GAAGT,EAAE,EAAE;MACTM,GAAG,IAAIN,EAAE;MACTQ,QAAQ,IAAIH,EAAE;IAClB;EACJ;AACF,CAAC;;AAED;AACA,MAAMK,QAAQ,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGC,QAAQ,CAAC,IAAI,CAAC;EAElD,MAAMC,eAAe,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK;IAC9BJ,aAAa,CAAC;MAAEG,CAAC;MAAEC;IAAE,CAAC,CAAC;EAC3B,CAAC;EAED,MAAMC,aAAa,GAAGA,CAACF,CAAC,EAAEC,CAAC,KAAK;IAC5B,IAAIL,UAAU,EAAE;MACZ,MAAMf,QAAQ,GAAGA,CAACsB,EAAE,EAAEC,EAAE,EAAEC,KAAK,KAAK;QAChCX,YAAY,CAACY,IAAI,IAAI;UACjB,MAAMC,OAAO,GAAG,CAAC,GAAGD,IAAI,CAAC;UACzB,IAAIH,EAAE,IAAI,CAAC,IAAIA,EAAE,GAAG,GAAG,IAAIC,EAAE,IAAI,CAAC,IAAIA,EAAE,GAAG,EAAE,EAAE;YAC3CG,OAAO,CAACH,EAAE,CAAC,CAACD,EAAE,CAAC,GAAGE,KAAK;UAC3B;UACA,OAAOE,OAAO;QAClB,CAAC,CAAC;MACN,CAAC;MAED/B,QAAQ,CAACoB,UAAU,CAACI,CAAC,EAAEJ,UAAU,CAACK,CAAC,EAAED,CAAC,EAAEC,CAAC,EAAEpB,QAAQ,CAAC;MACpDgB,aAAa,CAAC,IAAI,CAAC;IACvB;EACJ,CAAC;EAED,oBACEW,OAAA;IAAAC,QAAA,eAEED,OAAA;MAAAC,QAAA,EAAG;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtB,CAAC;AAEV,CAAC;AAAClB,EAAA,CA9BIH,QAAQ;AAAAsB,EAAA,GAARtB,QAAQ;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}